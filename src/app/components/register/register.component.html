<div class="map-bg">
  <img class="p1" src="/assets/img/map/1part.svg" alt="">
  <img class="p2" src="/assets/img/map/2part.svg" alt="">
  <img class="p3" src="/assets/img/map/3part.svg" alt="">
</div>

<div class="logo">
  <img src="/assets/img/logo.svg" alt="">
</div>

<div class="col-xs-12 col-md-10 col-lg-8 centered-bootstrap-cell">
  <div class="register-form">
    <div class="form-title">Sign up Your Account</div>
  </div>


  <div class="col-md-10 col-lg-7 centered-bootstrap-cell">
    <div class="form-wrap">
      <form #f="ngForm"  class="example-form" (ngSubmit)="register();">

          <mat-form-field class="example-full-width">
            <input type="email" matInput placeholder="Email" [(ngModel)]="user.email" name="email" #email="ngModel" placeholder="Enter your email" required email>
            <mat-error *ngIf="email.touched && email.invalid">
              <mat-error *ngIf="email.hasError('email') && email.value">
                Please enter a valid email address
              </mat-error>
              <mat-error *ngIf="email.hasError('required')">
                Email address is required
              </mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <input matInput placeholder="Enter your password"  minlength="6"  [type]="hide ? 'text' : 'password'" [(ngModel)]="user.password" name="password" #password="ngModel" required>
            <!--<mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>-->
            <mat-error *ngIf="password.invalid  && password.touched">
              <mat-error *ngIf="password.hasError('required')">
                Password is required
              </mat-error>
              <mat-error *ngIf="password.hasError('minlength')">
                Password min length should be 6 characters
              </mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input matInput type="password"  minlength="6"  placeholder="Repeat your password" [ngModel]="passwordConfirmationField" name="passwordConfirmation" #passwordConfirmation="ngModel" required>
            <mat-error *ngIf="passwordConfirmation.invalid  && passwordConfirmation.touched">
              <mat-error *ngIf="passwordConfirmation.hasError('required')">
                Confirmation password is required
              </mat-error>
              <mat-error *ngIf="passwordConfirmation.hasError('minlength')">
                Password min length should be 6 characters
              </mat-error>
            </mat-error>
          </mat-form-field>
          <div class="mat-error" style="font-size: 0.8em;" *ngIf="passwordConfirmation.dirty && (passwordConfirmation.value != password.value)">
            <b>Entered passwords do not match</b>
            <br>
          </div>

        <div>
          <a routerLink="/login" class="color-gray accent fz-small">Sign in</a>
          <br>
        </div>

        <div class="recaptcha" *ngIf="RecaptchaApiKey">
          <re-captcha
            #captchaRef="reCaptcha"
            (resolved)="resolved($event)"
            siteKey="{{RecaptchaApiKey}}"
          ></re-captcha>
        </div>

        <div class="align-center">
          <button mat-raised-button class="btn submit-btn" type="submit" [disabled]="f.invalid || (passwordConfirmation.value != password.value)">Sign up</button>
        </div>

        <div class="spinner-box fixed" *ngIf="showSpinner">
          <mat-spinner [diameter]="100"></mat-spinner>
        </div>
      </form>
    </div>

    <div class="social-login">
      <div class="title">
        <div class="content">or sign up via</div>
      </div>
      <div class="btns">
        <button mat-raised-button [disabled]="!captchaResponse" (click)="authViaGoogle()" class="btn google-btn"><i class="fa fa-google-plus" aria-hidden="true"></i></button>
        <button mat-raised-button [disabled]="!captchaResponse" (click)="authViaFacebook()" class="btn facebook-btn"><i class="fa fa-facebook" aria-hidden="true"></i></button>
        <button mat-raised-button [disabled]="!captchaResponse" (click)="authViaTwitter()" class="btn twitter-btn"><i class="fa fa-twitter" aria-hidden="true"></i></button>
        <button mat-raised-button [disabled]="!captchaResponse" (click)="authViaGithub()" class="btn github-btn"><i class="fa fa-github" aria-hidden="true"></i></button>
      </div>
    </div>
  </div>

</div>



